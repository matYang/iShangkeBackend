<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ishangke.edunav.dataaccess.mapper.OrderEntityExtMapper">
  <resultMap id="OrderExtMap" type="OrderEntityExt">
    <id column="ORDER_ID" property="id" jdbcType="INTEGER" />
    <result column="ORDER_BOOKINGID" property="bookingId" jdbcType="INTEGER" />
    <result column="ORDER_CREATETIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="ORDER_TYPE" property="type" jdbcType="VARCHAR" />
    <result column="ORDER_PRICE" property="price" jdbcType="DOUBLE" />
    <result column="ORDER_RUNINGNUMBER" property="runingNumber" jdbcType="VARCHAR" />
    <result column="ORDER_STATUS" property="status" jdbcType="VARCHAR" />
    <result column="ORDER_ENABLED" property="enabled" jdbcType="INTEGER" />
    <result column="ORDER_DELEDED" property="deleded" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Order_Base_Column_List">
    ORDER.ID ORDER_ID,
    ORDER.BOOKING_ID ORDER_BOOKINGID,
    ORDER.CREATE_TIME ORDER_CREATETIME,
    ORDER.TYPE
    ORDER_TYPE,
    ORDER.PRICE ORDER_PRICE,
    ORDER.RUNING_NUMBER ORDER_RUNINGNUMBER,
    ORDER.STATUS
    ORDER_STATUS,
    ORDER.ENABLED ORDER_ENABLED,
    ORDER.DELEDED ORDER_DELEDED
  </sql>
  <insert id="add" parameterType="OrderEntityExt">

    insert into ORDER
    <trim prefix="(" suffix=")" suffixOverrides=",">

      <if test="bookingId != null">
        BOOKING_ID,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="type != null">
        TYPE,
      </if>
      <if test="price != null">
        PRICE,
      </if>
      <if test="runingNumber != null">
        RUNING_NUMBER,
      </if>
      <if test="status != null">
        STATUS,
      </if>
      <if test="enabled != null">
        ENABLED,
      </if>
      <if test="deleded != null">
        DELEDED,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">

      <if test="bookingId != null">
        #{bookingId,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="type != null">
        #{type,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        #{price,jdbcType=DOUBLE},
      </if>
      <if test="runingNumber != null">
        #{runingNumber,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="enabled != null">
        #{enabled,jdbcType=INTEGER},
      </if>
      <if test="deleded != null">
        #{deleded,jdbcType=INTEGER},
      </if>
    </trim>
    <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER">
      SELECT
      LAST_INSERT_ID()
    </selectKey>
  </insert>

  <update id="deleteById" parameterType="java.lang.Integer">
    update ORDER set DELETED = 1
    where ID =
    #{id,jdbcType=INTEGER}
  </update>

  <update id="update" parameterType="OrderEntityExt">
    update ORDER
    <set>
      <if test="bookingId != null">
        BOOKING_ID = #{bookingId,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="type != null">
        TYPE = #{type,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        PRICE = #{price,jdbcType=DOUBLE},
      </if>
      <if test="runingNumber != null">
        RUNING_NUMBER = #{runingNumber,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
      <if test="enabled != null">
        ENABLED = #{enabled,jdbcType=INTEGER},
      </if>
      <if test="deleded != null">
        DELEDED = #{deleded,jdbcType=INTEGER},
      </if>
    </set>
    where ID = #{id,jdbcType=INTEGER}
  </update>

</mapper>